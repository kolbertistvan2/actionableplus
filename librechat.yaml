version: 1.2.1
cache: true

# Interface settings
interface:
  bookmarks: false

# Model configuration
# - enforce: false = users can use any model, not just specs
# - prioritize: false = users can switch between endpoints freely
# - addedEndpoints = explicitly allows these providers in UI
# - default: true = auto-selected on new chat
modelSpecs:
  enforce: false
  prioritize: false
  addedEndpoints:
    - agents
    - google
    - anthropic
    - openAI
  list:
    - name: ecommerce-consultant
      label: AI Consultant
      default: true
      preset:
        endpoint: agents
        agent_id: agent_vYtlBb9GyT3xEnGcSWgG9

# Endpoint configurations
endpoints:
  agents:
    # Recursion limit for agent tool calls (default: 25)
    recursionLimit: 50
    # Maximum recursion limit allowed (default: 25)
    maxRecursionLimit: 100
  google:
    # Enable native Google Search Grounding for Gemini models
    web_search: true

# Token Balance System
balance:
  enabled: false
  startBalance: 50000        # ~$0.05 induló kredit új felhasználóknak
  autoRefillEnabled: true
  refillIntervalValue: 1
  refillIntervalUnit: "days"
  refillAmount: 20000        # Napi ~$0.02 feltöltés

# Memory - persistent user context across chats
memory:
  disabled: false
  personalize: true           # Users can toggle memory on/off in Settings
  tokenLimit: 12000           # Max tokens for stored memories
  charLimit: 20000            # Max characters per memory entry
  messageWindowSize: 20       # Recent messages to analyze for memory extraction
  validKeys:                  # Structured memory categories
    - "user_info"             # Name, company, role
    - "project_context"       # Current project details
    - "preferences"           # Style, language preferences
    - "business_info"         # Industry, target market
    - "action_items"          # Agreed tasks, next steps, deadlines
  agent:
    provider: "anthropic"
    model: "claude-haiku-4-5-20251001"
    instructions: |
      You are a memory assistant for an e-commerce consultant AI.
      Extract and store ONLY highly relevant information:
      - User's name, company, role (user_info)
      - Current project details and goals (project_context)
      - Business context: industry, target market, competitors (business_info)
      - Explicit preferences and requirements (preferences)
      - Agreed tasks, next steps, deadlines (action_items)
      Do NOT store: greetings, small talk, temporary requests, tool outputs.
      Be concise - each memory should be 1-3 sentences max.
      Use Hungarian if the user communicates in Hungarian.

# MCP Servers
mcpServers:
  kolbert-ai-browser:
    type: streamable-http
    url: https://stagehand-mcp-server-production.up.railway.app/mcp
    timeout: 600000
    initTimeout: 30000
    requiresOAuth: false
    title: "Kolbert AI Browser"
    description: "AI-powered browser control"
    headers:
      X-Conversation-Id: "{{LIBRECHAT_BODY_CONVERSATIONID}}"
  gemini-image:
    type: streamable-http
    url: https://gemini-image-mcp-production.up.railway.app/mcp
    timeout: 120000
    initTimeout: 30000
    requiresOAuth: false
    title: "Image Generation"
    description: "Generate product images, ads, and banners with Gemini AI"
